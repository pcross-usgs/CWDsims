<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Paul C. Cross" />


<title>CWDsims introduction vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">CWDsims introduction vignette</h1>
<h4 class="author">Paul C. Cross</h4>
<h4 class="date">2019-10-2</h4>



<p>The <code>CWDsims</code> package was created as a decision-support tool for natural resource managers interested in investigating different scenarios associated with chronic wasting disease (CWD). This tool allows the user to enter parameters for deer or elk vital rates, hunting mortality, and disease transmission and the model will plot the total number of individuals, prevalence, age and sex distribution, and how many deaths were natural, hunting or CWD-related. The user can tailor the model to their species and region of interest by modifying the parameters and starting conditions. The <code>WDsims</code> package includes functions to run deterministic and stochastic models, plot the results, and run interactive Shiny apps associated with those CWD model functions.</p>
<p>For information on getting started in R and installing the package, see <a href="#getting-started-in-r">Getting Started</a>. Any use of trade, firm, or product names is for descriptive purposes only and does not imply endorsement by the U.S. Government.</p>
<p>For details on how the CWD models are structured and parameterized see the CWDsims Model vignette. For additional details on the Shiny applications see the CWDsims Shiny vignette</p>
<p>In order to launch the interactive Shiny application on your local machine run the following:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(CWDsims)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">launchCWDapp</span>()</a></code></pre></div>
<p>Some users may be interested in storing output associated with the different models so that more detailed analyses and comparisons can be done. Below is a quick workflow for how to use some of the functions in ‘CWDsims’.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="co"># first create a list of parameter values</span></a>
<a class="sourceLine" id="cb2-2" title="2">params &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">fawn.an.sur =</span> <span class="fl">0.6</span>, <span class="dt">juv.an.sur =</span> <span class="fl">0.8</span>, <span class="dt">ad.an.f.sur =</span> <span class="fl">0.9</span>,</a>
<a class="sourceLine" id="cb2-3" title="3">               <span class="dt">ad.an.m.sur =</span> <span class="fl">0.9</span>, <span class="dt">fawn.repro =</span> <span class="dv">0</span>, <span class="dt">juv.repro =</span> <span class="fl">0.6</span>,</a>
<a class="sourceLine" id="cb2-4" title="4">               <span class="dt">ad.repro =</span> <span class="dv">1</span>, <span class="dt">hunt.mort.fawn =</span> <span class="fl">0.01</span>, <span class="dt">hunt.mort.juv.f =</span> <span class="fl">0.1</span>,</a>
<a class="sourceLine" id="cb2-5" title="5">               <span class="dt">hunt.mort.juv.m =</span> <span class="fl">0.1</span>, <span class="dt">hunt.mort.ad.f =</span> <span class="fl">0.2</span>, </a>
<a class="sourceLine" id="cb2-6" title="6">               <span class="dt">hunt.mort.ad.m =</span> <span class="fl">0.2</span>, <span class="dt">ini.fawn.prev =</span> <span class="fl">0.02</span>, <span class="dt">ini.juv.prev =</span> <span class="fl">0.03</span>,</a>
<a class="sourceLine" id="cb2-7" title="7">               <span class="dt">ini.ad.f.prev =</span> <span class="fl">0.04</span>, <span class="dt">ini.ad.m.prev =</span> <span class="fl">0.04</span>, <span class="dt">n.age.cats =</span> <span class="dv">12</span>, </a>
<a class="sourceLine" id="cb2-8" title="8">               <span class="dt">p =</span> <span class="fl">0.43</span>, <span class="dt">env.foi =</span> <span class="dv">0</span>, <span class="dt">beta.f =</span> <span class="fl">0.15</span>, <span class="dt">beta.m =</span> <span class="fl">0.15</span>, <span class="dt">theta =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb2-9" title="9">               <span class="dt">n0 =</span> <span class="dv">2000</span>, <span class="dt">n.years =</span> <span class="dv">10</span>, <span class="dt">rel.risk =</span> <span class="fl">1.0</span>)</a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co"># run the deterministic CWD model</span></a>
<a class="sourceLine" id="cb2-12" title="12">out &lt;-<span class="st"> </span><span class="kw">cwd_det_model</span>(params)</a>
<a class="sourceLine" id="cb2-13" title="13"></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co"># plot the totals</span></a>
<a class="sourceLine" id="cb2-15" title="15"><span class="kw">plot_tots</span>(out<span class="op">$</span>counts)</a></code></pre></div>
<div id="plots" class="section level3">
<h3>Plots</h3>
<p>For plotting purposes we sub-sample the entire monthly time series to include only one month per year to avoid displaying the within-year variation. Total population size is plotted for February. The male:female ratio is sampled in December, and the fawn:doe ratio taken at the end of the biological year in April. Prevalence information is sampled in November. Note that the error bars shown in the stochastic plots are the 5% and 95% quantiles, which may not be estimated well if only a few simulations are run.</p>
</div>
<div id="code-and-implementation" class="section level3">
<h3>Code and Implementation</h3>
<p>Code was written using R version 3.6.1 (R Foundation for Statistical Computing, Vienna, AT; www.R-project.org) and the Shiny package version 1.3.2 (Chang et al. 2017). The main other packages used were:</p>
<ul>
<li>reshape2: version 1.4.3</li>
<li>popbio: version 2.4.4</li>
<li>magrittr: version 1.5</li>
<li>tidyverse: version 1.2.1</li>
<li>cowplot: version 1.0.0</li>
<li>ggridges: version 0.5.1</li>
<li>knitr: version 1.2.5</li>
<li>shinydashboard: version 0.7.1</li>
</ul>
<p>All of the source code is available at <a href="https://github.com/pcross-usgs/CWD-shiny" class="uri">https://github.com/pcross-usgs/CWD-shiny</a>.</p>
</div>
<div id="citation" class="section level3">
<h3>Citation</h3>
<p>This CWD model was developed by the U.S. Geological Survey, Northern Rocky Mountain Science Center, in collaboration with Montana Fish, Wildlife, and Parks.</p>
<p>The tool may be cited as: Cross, PC and ES Almberg. 2019. CWDsims: An R package for simulating chronic wasting disease scenarios. URL TBD. DOI: 10.5066/P948SF4Q.</p>
<p><em>Contact:</em> For technical assistance or to report outages, please contact <a href="mailto:pcross@usgs.gov" class="email">pcross@usgs.gov</a></p>
<p><em>Disclaimers</em>: Although these data have been processed successfully on a computer system at the U.S. Geological Survey (USGS), no warranty expressed or implied is made regarding the display or utility of the data for other purposes, nor on all computer systems, nor shall the act of distribution constitute any such warranty. The USGS or the U.S. Government shall not be held liable for improper or incorrect use of the data described and/or contained herein.</p>
<p>Any use of trade, firm, or product names is for descriptive purposes only and does not imply endorsement by the U.S. Government.</p>
</div>
<div id="references" class="section level3">
<h3>References</h3>
<p>Chang, W, J Cheng, JJ Allaire, Y Xie, and J McPherson 2017. shiny: Web Application Framework for R. R package version 1.0.5. <a href="https://CRAN.R-project.org/package=shiny" class="uri">https://CRAN.R-project.org/package=shiny</a></p>
<p>Chang, W, and BB Ribeiro 2018. shinydashboard: Create Dashboards with ‘Shiny’. R package version 0.7.0. <a href="https://CRAN.R-project.org/package=shinydashboard" class="uri">https://CRAN.R-project.org/package=shinydashboard</a></p>
<p>R Core Team 2018. R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. URL <a href="https://www.R-project.org/" class="uri">https://www.R-project.org/</a>.</p>
<p>Stubben, C.J. and Milligan, B.G. 2007. Estimating and Analyzing Demographic Models Using the popbio Package in R. Journal of Statistical Software 22:11.</p>
<p>Wickham, H 2017. tidyverse: Easily Install and Load the ‘Tidyverse’. R package version 1.2.1. <a href="https://CRAN.R-project.org/package=tidyverse" class="uri">https://CRAN.R-project.org/package=tidyverse</a></p>
<p>Wickham, H 2007. Reshaping Data with the reshape Package. Journal of Statistical Software, 21(12), 1-20. URL <a href="http://www.jstatsoft.org/v21/i12/" class="uri">http://www.jstatsoft.org/v21/i12/</a>.</p>
<p>Wilke, CO 2017. cowplot: Streamlined Plot Theme and Plot Annotations for ‘ggplot2’. R package version 0.9.2. <a href="https://CRAN.R-project.org/package=cowplot" class="uri">https://CRAN.R-project.org/package=cowplot</a></p>
<p>Wilke, CO 2018. ggridges: Ridgeline Plots in ‘ggplot2’. R package version 0.5.1. <a href="https://CRAN.R-project.org/package=ggridges" class="uri">https://CRAN.R-project.org/package=ggridges</a></p>
<p>Xie, Y 2018. knitr: A General-Purpose Package for Dynamic Report Generation in R. R package version 1.20.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
